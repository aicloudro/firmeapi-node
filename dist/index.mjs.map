{"version":3,"sources":["../src/errors/index.ts","../src/client.ts"],"sourcesContent":["/**\n * FirmeAPI Error Classes\n */\n\n/**\n * Base error class for all FirmeAPI errors\n */\nexport class FirmeApiError extends Error {\n  public readonly code: string;\n  public readonly statusCode: number;\n\n  constructor(message: string, code: string, statusCode: number = 500) {\n    super(message);\n    this.name = 'FirmeApiError';\n    this.code = code;\n    this.statusCode = statusCode;\n    Object.setPrototypeOf(this, FirmeApiError.prototype);\n  }\n}\n\n/**\n * Thrown when authentication fails (invalid or missing API key)\n */\nexport class AuthenticationError extends FirmeApiError {\n  constructor(message: string, code: string = 'AUTH_ERROR') {\n    super(message, code, 401);\n    this.name = 'AuthenticationError';\n    Object.setPrototypeOf(this, AuthenticationError.prototype);\n  }\n}\n\n/**\n * Thrown when a resource is not found\n */\nexport class NotFoundError extends FirmeApiError {\n  constructor(message: string, code: string = 'NOT_FOUND') {\n    super(message, code, 404);\n    this.name = 'NotFoundError';\n    Object.setPrototypeOf(this, NotFoundError.prototype);\n  }\n}\n\n/**\n * Thrown when rate limit is exceeded\n */\nexport class RateLimitError extends FirmeApiError {\n  public readonly retryAfter: number;\n  public readonly currentUsage: number;\n  public readonly limit: number;\n\n  constructor(\n    message: string,\n    code: string = 'RATE_LIMIT_EXCEEDED',\n    retryAfter: number = 1,\n    currentUsage: number = 0,\n    limit: number = 0\n  ) {\n    super(message, code, 429);\n    this.name = 'RateLimitError';\n    this.retryAfter = retryAfter;\n    this.currentUsage = currentUsage;\n    this.limit = limit;\n    Object.setPrototypeOf(this, RateLimitError.prototype);\n  }\n}\n\n/**\n * Thrown when credits are exhausted\n */\nexport class InsufficientCreditsError extends FirmeApiError {\n  public readonly availableCredits: number;\n  public readonly requiredCredits: number;\n\n  constructor(\n    message: string,\n    code: string = 'CREDITS_EXHAUSTED',\n    availableCredits: number = 0,\n    requiredCredits: number = 1\n  ) {\n    super(message, code, 403);\n    this.name = 'InsufficientCreditsError';\n    this.availableCredits = availableCredits;\n    this.requiredCredits = requiredCredits;\n    Object.setPrototypeOf(this, InsufficientCreditsError.prototype);\n  }\n}\n\n/**\n * Thrown when request validation fails\n */\nexport class ValidationError extends FirmeApiError {\n  constructor(message: string, code: string = 'VALIDATION_ERROR') {\n    super(message, code, 400);\n    this.name = 'ValidationError';\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n\n/**\n * Thrown when the API returns an unexpected error\n */\nexport class ApiError extends FirmeApiError {\n  constructor(message: string, code: string = 'API_ERROR', statusCode: number = 500) {\n    super(message, code, statusCode);\n    this.name = 'ApiError';\n    Object.setPrototypeOf(this, ApiError.prototype);\n  }\n}\n\n/**\n * Thrown when a network error occurs\n */\nexport class NetworkError extends FirmeApiError {\n  constructor(message: string = 'Network request failed') {\n    super(message, 'NETWORK_ERROR', 0);\n    this.name = 'NetworkError';\n    Object.setPrototypeOf(this, NetworkError.prototype);\n  }\n}\n\n/**\n * Thrown when request times out\n */\nexport class TimeoutError extends FirmeApiError {\n  constructor(message: string = 'Request timed out') {\n    super(message, 'TIMEOUT', 0);\n    this.name = 'TimeoutError';\n    Object.setPrototypeOf(this, TimeoutError.prototype);\n  }\n}\n","/**\n * FirmeAPI Client\n *\n * Official Node.js client for FirmeAPI.ro\n */\n\nimport type {\n  FirmeApiConfig,\n  Company,\n  Bilant,\n  RestanteResponse,\n  MofResponse,\n  SearchFilters,\n  SearchResponse,\n  ApiResponse,\n  ApiErrorResponse,\n  FreeCompany,\n  FreeApiUsage,\n} from './types';\n\nimport {\n  FirmeApiError,\n  AuthenticationError,\n  NotFoundError,\n  RateLimitError,\n  InsufficientCreditsError,\n  ValidationError,\n  ApiError,\n  NetworkError,\n  TimeoutError,\n} from './errors';\n\nconst DEFAULT_BASE_URL = 'https://www.firmeapi.ro/api';\nconst DEFAULT_TIMEOUT = 30000;\n\nexport class FirmeApi {\n  private readonly apiKey: string;\n  private readonly sandbox: boolean;\n  private readonly baseUrl: string;\n  private readonly timeout: number;\n\n  /**\n   * Create a new FirmeAPI client\n   *\n   * @param config - Configuration options\n   *\n   * @example\n   * ```typescript\n   * const client = new FirmeApi({\n   *   apiKey: 'your_api_key_here',\n   *   sandbox: true // Enable sandbox mode for testing\n   * });\n   * ```\n   */\n  constructor(config: FirmeApiConfig) {\n    if (!config.apiKey) {\n      throw new ValidationError('API key is required', 'MISSING_API_KEY');\n    }\n\n    this.apiKey = config.apiKey;\n    this.sandbox = config.sandbox ?? false;\n    this.baseUrl = config.baseUrl ?? DEFAULT_BASE_URL;\n    this.timeout = config.timeout ?? DEFAULT_TIMEOUT;\n  }\n\n  /**\n   * Get company details by CUI\n   *\n   * @param cui - The company's CUI (unique identification code)\n   * @returns Company details\n   *\n   * @example\n   * ```typescript\n   * const company = await client.getCompany('12345678');\n   * console.log(company.denumire);\n   * ```\n   */\n  async getCompany(cui: string): Promise<Company> {\n    const cleanCui = this.cleanCui(cui);\n    const response = await this.request<ApiResponse<Company>>(`/v1/firma/${cleanCui}`);\n    return response.data;\n  }\n\n  /**\n   * Get company balance sheet (bilant) by CUI\n   *\n   * @param cui - The company's CUI\n   * @returns Balance sheet data for multiple years\n   *\n   * @example\n   * ```typescript\n   * const bilant = await client.getBilant('12345678');\n   * for (const year of bilant.ani) {\n   *   console.log(`${year.an}: ${year.detalii.I1} RON cifra afaceri`);\n   * }\n   * ```\n   */\n  async getBilant(cui: string): Promise<Bilant> {\n    const cleanCui = this.cleanCui(cui);\n    const response = await this.request<ApiResponse<Bilant>>(`/v1/bilant/${cleanCui}`);\n    return response.data;\n  }\n\n  /**\n   * Get company ANAF debts (restante) by CUI\n   *\n   * @param cui - The company's CUI\n   * @returns ANAF debt information\n   *\n   * @example\n   * ```typescript\n   * const restante = await client.getRestante('12345678');\n   * if (restante.restante.length > 0) {\n   *   console.log('Company has outstanding debts!');\n   * }\n   * ```\n   */\n  async getRestante(cui: string): Promise<RestanteResponse> {\n    const cleanCui = this.cleanCui(cui);\n    const response = await this.request<ApiResponse<RestanteResponse>>(`/v1/restante/${cleanCui}`);\n    return response.data;\n  }\n\n  /**\n   * Get company Monitorul Oficial publications by CUI\n   *\n   * @param cui - The company's CUI\n   * @returns MOF publications\n   *\n   * @example\n   * ```typescript\n   * const mof = await client.getMof('12345678');\n   * for (const pub of mof.rezultate) {\n   *   console.log(`${pub.data}: ${pub.titlu_publicatie}`);\n   * }\n   * ```\n   */\n  async getMof(cui: string): Promise<MofResponse> {\n    const cleanCui = this.cleanCui(cui);\n    const response = await this.request<ApiResponse<MofResponse>>(`/v1/mof/${cleanCui}`);\n    return response.data;\n  }\n\n  /**\n   * Search companies with filters\n   *\n   * @param filters - Search filters\n   * @returns Paginated list of companies\n   *\n   * @example\n   * ```typescript\n   * const results = await client.searchCompanies({\n   *   judet: 'B',\n   *   caen: '6201',\n   *   tva: true,\n   *   page: 1\n   * });\n   * console.log(`Found ${results.pagination.total} companies`);\n   * ```\n   */\n  async searchCompanies(filters: SearchFilters = {}): Promise<SearchResponse> {\n    const params = new URLSearchParams();\n\n    if (filters.q) params.set('q', filters.q);\n    if (filters.judet) params.set('judet', filters.judet);\n    if (filters.localitate) params.set('localitate', filters.localitate);\n    if (filters.caen) params.set('caen', filters.caen);\n    if (filters.stare) params.set('stare', filters.stare);\n    if (filters.data) params.set('data', filters.data);\n    if (filters.data_start) params.set('data_start', filters.data_start);\n    if (filters.data_end) params.set('data_end', filters.data_end);\n    if (filters.tva !== undefined) params.set('tva', filters.tva ? '1' : '0');\n    if (filters.telefon !== undefined) params.set('telefon', filters.telefon ? '1' : '0');\n    if (filters.page) params.set('page', String(filters.page));\n\n    const queryString = params.toString();\n    const url = `/v1/firme${queryString ? `?${queryString}` : ''}`;\n\n    const response = await this.request<ApiResponse<SearchResponse>>(url);\n    return response.data;\n  }\n\n  /**\n   * Get basic company info using the free API\n   *\n   * Requires a Free API Key (generated separately from dashboard).\n   * Free API does not support sandbox mode.\n   *\n   * @param cui - The company's CUI\n   * @returns Basic company information\n   *\n   * @example\n   * ```typescript\n   * const client = new FirmeApi({ apiKey: 'fa_xxxxxxxx' }); // Free API Key\n   * const company = await client.getFreeCompany('12345678');\n   * console.log(company.denumire);\n   * ```\n   */\n  async getFreeCompany(cui: string): Promise<FreeCompany> {\n    const cleanCui = this.cleanCui(cui);\n    const response = await this.request<ApiResponse<FreeCompany>>(\n      `/free/firma/${cleanCui}`,\n      { isFreeApi: true }\n    );\n    return response.data;\n  }\n\n  /**\n   * Get free API usage statistics\n   *\n   * Requires a Free API Key.\n   *\n   * @returns Usage information\n   */\n  async getFreeApiUsage(): Promise<FreeApiUsage> {\n    const response = await this.request<ApiResponse<FreeApiUsage>>(\n      '/free/usage',\n      { isFreeApi: true }\n    );\n    return response.data;\n  }\n\n  /**\n   * Clean and validate CUI\n   */\n  private cleanCui(cui: string): string {\n    const cleaned = cui.replace(/[^0-9]/g, '');\n\n    if (cleaned.length < 2 || cleaned.length > 10) {\n      throw new ValidationError(\n        'CUI must contain between 2 and 10 digits',\n        'INVALID_CUI_FORMAT'\n      );\n    }\n\n    return cleaned;\n  }\n\n  /**\n   * Make HTTP request to the API\n   */\n  private async request<T>(\n    endpoint: string,\n    options: { isFreeApi?: boolean } = {}\n  ): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`;\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      'User-Agent': 'firmeapi-node/1.0.0',\n    };\n\n    // Always add auth header (both paid and free API require it)\n    headers['X-API-KEY'] = this.apiKey;\n\n    // Add sandbox header only for paid API (v1), not for free API\n    if (this.sandbox && !options.isFreeApi) {\n      headers['X-Sandbox'] = 'true';\n    }\n\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n    try {\n      const response = await fetch(url, {\n        method: 'GET',\n        headers,\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        this.handleErrorResponse(response.status, data as ApiErrorResponse);\n      }\n\n      return data as T;\n    } catch (error) {\n      clearTimeout(timeoutId);\n\n      if (error instanceof FirmeApiError) {\n        throw error;\n      }\n\n      if (error instanceof Error) {\n        if (error.name === 'AbortError') {\n          throw new TimeoutError(`Request timed out after ${this.timeout}ms`);\n        }\n        throw new NetworkError(error.message);\n      }\n\n      throw new NetworkError('An unknown error occurred');\n    }\n  }\n\n  /**\n   * Handle error response from API\n   */\n  private handleErrorResponse(statusCode: number, data: ApiErrorResponse): never {\n    const message = data.message || data.error || 'Unknown error';\n    const code = data.code || 'UNKNOWN_ERROR';\n\n    switch (statusCode) {\n      case 401:\n        throw new AuthenticationError(message, code);\n\n      case 403:\n        if (code === 'CREDITS_EXHAUSTED' || code === 'MOF_INSUFFICIENT_CREDITS') {\n          throw new InsufficientCreditsError(\n            message,\n            code,\n            (data as any).available_credits ?? 0,\n            (data as any).required_credits ?? 1\n          );\n        }\n        throw new AuthenticationError(message, code);\n\n      case 404:\n        throw new NotFoundError(message, code);\n\n      case 429:\n        throw new RateLimitError(\n          message,\n          code,\n          (data as any).retry_after ?? 1,\n          (data as any).current_usage ?? 0,\n          (data as any).limit ?? 0\n        );\n\n      case 400:\n        throw new ValidationError(message, code);\n\n      default:\n        throw new ApiError(message, code, statusCode);\n    }\n  }\n}\n\nexport default FirmeApi;\n"],"mappings":"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","names":[]}